{"version":3,"sources":["../../../../../Seneca/node_modules/_lodash@2.4.2@lodash/dist/lodash.underscore.js"],"names":["undefined","idCounter","indicatorObject","keyPrefix","Date","reInterpolate","reNoMatch","reUnescapedString","argsClass","arrayClass","boolClass","dateClass","funcClass","numberClass","objectClass","regexpClass","stringClass","objectTypes","stringEscapes","root","window","freeExports","exports","nodeType","freeModule","module","moduleExports","freeGlobal","global","baseIndexOf","array","value","fromIndex","index","length","compareAscending","a","b","ac","criteria","bc","other","escapeStringChar","match","slice","start","end","result","Array","arrayRef","objectProto","Object","prototype","oldDash","_","toString","reNative","RegExp","String","replace","ceil","Math","floor","hasOwnProperty","push","propertyIsEnumerable","nativeCreate","isNative","create","nativeIsArray","isArray","nativeIsFinite","isFinite","nativeIsNaN","isNaN","nativeKeys","keys","nativeMax","max","nativeMin","min","nativeRandom","random","lodash","lodashWrapper","chainAll","__chain__","__wrapped__","support","object","spliceObjects","splice","call","templateSettings","baseBind","bindData","func","partialArgs","thisArg","bound","args","apply","arguments","thisBinding","baseCreate","isObject","properties","baseCreateCallback","argCount","identity","collection","accumulator","bind","baseCreateWrapper","bitmask","partialRightArgs","arity","isBind","isBindKey","isCurry","isCurryBound","key","baseDifference","values","indexOf","getIndexOf","baseFlatten","isShallow","isStrict","isArguments","valIndex","valLength","resIndex","baseIsEqual","stackA","stackB","type","otherType","className","otherClass","isArr","aWrapped","bWrapped","ctorA","constructor","ctorB","isFunction","size","forIn","pop","baseRandom","baseUniq","isSorted","callback","seen","computed","createAggregator","setter","createCallback","forOwn","createWrapper","isPartial","isPartialRight","TypeError","creater","escapeHtmlChar","htmlEscapes","test","unescapeHtmlChar","htmlUnescapes","shimKeys","iterable","invert","reEscapedHtml","join","reUnescapedHtml","assign","argsIndex","argsLength","clone","defaults","functions","sort","has","props","isBoolean","isDate","isElement","isEmpty","isString","isEqual","parseFloat","isNumber","isNull","isRegExp","isUndefined","omit","pairs","pick","contains","target","countBy","every","filter","find","findWhere","where","forEach","forEachRight","groupBy","indexBy","invoke","methodName","isFunc","map","Infinity","current","pluck","reduce","noaccum","reduceRight","reject","sample","n","guard","shuffle","rand","some","sortBy","toArray","first","compact","difference","flatten","sortedIndex","initial","intersection","outer","last","lastIndexOf","range","step","rest","low","high","mid","union","uniq","without","zip","zipObject","after","bindAll","funcs","compose","debounce","wait","options","maxTimeoutId","stamp","timeoutId","trailingCall","lastCalled","maxWait","trailing","leading","delayed","remaining","now","clearTimeout","isCalled","setTimeout","maxDelayed","leadingCall","defer","delay","memoize","resolver","cache","once","ran","partial","throttle","wrap","wrapper","property","escape","string","mixin","noConflict","noop","getTime","template","text","data","settings","source","variable","reDelimiters","interpolate","evaluate","escapeValue","interpolateValue","evaluateValue","offset","Function","e","times","unescape","uniqueId","prefix","id","chain","tap","interceptor","wrapperChain","wrapperValueOf","collect","drop","each","extend","methods","select","tail","unique","all","any","detect","foldl","foldr","include","inject","take","head","VERSION","define","amd"],"mappings":"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","file":"lodash.underscore.js","sourcesContent":["/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash underscore exports=\"amd,commonjs,global,node\" -o ./dist/lodash.underscore.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var objectProto = Object.prototype;\n\n  /** Used to restore the original `_` reference in `noConflict` */\n  var oldDash = root._;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    String(toString)\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n  );\n\n  /** Native method shortcuts */\n  var ceil = Math.ceil,\n      floor = Math.floor,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeIsFinite = root.isFinite,\n      nativeIsNaN = root.isNaN,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n      nativeMax = Math.max,\n      nativeMin = Math.min,\n      nativeRandom = Math.random;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash(value) {\n    return (value instanceof lodash)\n      ? value\n      : new lodashWrapper(value);\n  }\n\n  /**\n   * A fast path for creating `lodash` wrapper objects.\n   *\n   * @private\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @param {boolean} chainAll A flag to enable chaining for all methods\n   * @returns {Object} Returns a `lodash` instance.\n   */\n  function lodashWrapper(value, chainAll) {\n    this.__chain__ = !!chainAll;\n    this.__wrapped__ = value;\n  }\n  // ensure `new lodashWrapper` is an instance of `lodash`\n  lodashWrapper.prototype = lodash.prototype;\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = {};\n\n  (function() {\n    var object = { '0': 1, 'length': 1 };\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n  }(1));\n\n  /**\n   * By default, the template delimiters used by Lo-Dash are similar to those in\n   * embedded Ruby (ERB). Change the following template settings to use alternative\n   * delimiters.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  lodash.templateSettings = {\n\n    /**\n     * Used to detect `data` property values to be HTML-escaped.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'escape': /<%-([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect code to be evaluated.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'evaluate': /<%([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect `data` property values to inject.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'interpolate': reInterpolate,\n\n    /**\n     * Used to reference the data object in the template text.\n     *\n     * @memberOf _.templateSettings\n     * @type string\n     */\n    'variable': ''\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }());\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 2: return function(a, b) {\n        return func.call(thisArg, a, b);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.difference` that accepts a single array\n   * of values to exclude.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {Array} [values] The array of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   */\n  function baseDifference(array, values) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (indexOf(values, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.flatten` without support for callback\n   * shorthands or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n   * @param {number} [fromIndex=0] The index to start from.\n   * @returns {Array} Returns a new flattened array.\n   */\n  function baseFlatten(array, isShallow, isStrict, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (value && typeof value == 'object' && typeof value.length == 'number'\n          && (isArray(value) || isArguments(value))) {\n        // recursively flatten arrays (susceptible to call stack limits)\n        if (!isShallow) {\n          value = baseFlatten(value, isShallow, isStrict);\n        }\n        var valIndex = -1,\n            valLength = value.length,\n            resIndex = result.length;\n\n        result.length += valLength;\n        while (++valIndex < valLength) {\n          result[resIndex++] = value[valIndex];\n        }\n      } else if (!isStrict) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n   * that allows partial \"_.where\" style comparisons.\n   *\n   * @private\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n   * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n   * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(a, b, stackA, stackB) {\n    if (a === b) {\n      return a !== 0 || (1 / a == 1 / b);\n    }\n    var type = typeof a,\n        otherType = typeof b;\n\n    if (a === a &&\n        !(a && objectTypes[type]) &&\n        !(b && objectTypes[otherType])) {\n      return false;\n    }\n    if (a == null || b == null) {\n      return a === b;\n    }\n    var className = toString.call(a),\n        otherClass = toString.call(b);\n\n    if (className != otherClass) {\n      return false;\n    }\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        return +a == +b;\n\n      case numberClass:\n        return a != +a\n          ? b != +b\n          : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n      case regexpClass:\n      case stringClass:\n        return a == String(b);\n    }\n    var isArr = className == arrayClass;\n    if (!isArr) {\n      var aWrapped = a instanceof lodash,\n          bWrapped = b instanceof lodash;\n\n      if (aWrapped || bWrapped) {\n        return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, stackA, stackB);\n      }\n      if (className != objectClass) {\n        return false;\n      }\n      var ctorA = a.constructor,\n          ctorB = b.constructor;\n\n      if (ctorA != ctorB &&\n            !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n            ('constructor' in a && 'constructor' in b)\n          ) {\n        return false;\n      }\n    }\n    stackA || (stackA = []);\n    stackB || (stackB = []);\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == a) {\n        return stackB[length] == b;\n      }\n    }\n    var result = true,\n        size = 0;\n\n    stackA.push(a);\n    stackB.push(b);\n\n    if (isArr) {\n      size = b.length;\n      result = size == a.length;\n\n      if (result) {\n        while (size--) {\n          if (!(result = baseIsEqual(a[size], b[size], stackA, stackB))) {\n            break;\n          }\n        }\n      }\n    }\n    else {\n      forIn(b, function(value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          size++;\n          return !(result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, stackA, stackB)) && indicatorObject;\n        }\n      });\n\n      if (result) {\n        forIn(a, function(value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            return !(result = --size > -1) && indicatorObject;\n          }\n        });\n      }\n    }\n    stackA.pop();\n    stackB.pop();\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.random` without argument juggling or support\n   * for returning floating-point numbers.\n   *\n   * @private\n   * @param {number} min The minimum possible value.\n   * @param {number} max The maximum possible value.\n   * @returns {number} Returns a random number.\n   */\n  function baseRandom(min, max) {\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * The base implementation of `_.uniq` without support for callback shorthands\n   * or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function} [callback] The function called per iteration.\n   * @returns {Array} Returns a duplicate-value-free array.\n   */\n  function baseUniq(array, isSorted, callback) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [],\n        seen = callback ? [] : result;\n\n    while (++index < length) {\n      var value = array[index],\n          computed = callback ? callback(value, index, array) : value;\n\n      if (isSorted\n            ? !index || seen[seen.length - 1] !== computed\n            : indexOf(seen, computed) < 0\n          ) {\n        if (callback) {\n          seen.push(computed);\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates a function that aggregates a collection, creating an object composed\n   * of keys generated from the results of running each element of the collection\n   * through a callback. The given `setter` function sets the keys and values\n   * of the composed object.\n   *\n   * @private\n   * @param {Function} setter The setter function.\n   * @returns {Function} Returns the new aggregator function.\n   */\n  function createAggregator(setter) {\n    return function(collection, callback, thisArg) {\n      var result = {};\n      callback = createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          setter(result, value, callback(value, index, collection), collection);\n        }\n      } else {\n        forOwn(collection, function(value, key, collection) {\n          setter(result, value, callback(value, key, collection), collection);\n        });\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError;\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    // fast path for `_.bind`\n    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Used by `escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(match) {\n    return htmlEscapes[match];\n  }\n\n  /**\n   * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n   * customized, this method returns the custom method, otherwise it returns\n   * the `baseIndexOf` function.\n   *\n   * @private\n   * @returns {Function} Returns the \"indexOf\" function.\n   */\n  function getIndexOf() {\n    var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Used by `unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} match The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(match) {\n    return htmlUnescapes[match];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!isArguments(arguments)) {\n    isArguments = function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = function(object) {\n    var index, iterable = object, result = [];\n    if (!iterable) return result;\n    if (!(objectTypes[typeof object])) return result;\n      for (index in iterable) {\n        if (hasOwnProperty.call(iterable, index)) {\n          result.push(index);\n        }\n      }\n    return result\n  };\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    return nativeKeys(object);\n  };\n\n  /**\n   * Used to convert characters to HTML entities:\n   *\n   * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n   * don't require escaping in HTML and have no special meaning unless they're part\n   * of a tag or an unquoted attribute value.\n   * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n   */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;'\n  };\n\n  /** Used to convert HTML entities to characters */\n  var htmlUnescapes = invert(htmlEscapes);\n\n  /** Used to match HTML entities and HTML characters */\n  var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n      reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function assign(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in iterable) {\n          object[key] = iterable[key];\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value) {\n    return isObject(value)\n      ? (isArray(value) ? slice(value) : assign({}, value))\n      : value;\n  }\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object for all destination properties that resolve to `undefined`. Once a\n   * property is set, additional defaults of the same property will be ignored.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param- {Object} [guard] Allows working with `_.reduce` without using its\n   *  `key` and `object` arguments as sources.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var object = { 'name': 'barney' };\n   * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function defaults(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in iterable) {\n          if (typeof object[key] == 'undefined') {\n            object[key] = iterable[key];\n          }\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = function(collection, callback) {\n    var index, iterable = collection, result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable]) return result;\n      for (index in iterable) {\n        if (callback(iterable[index], index, collection) === indicatorObject) return result;\n      }\n    return result\n  };\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = function(collection, callback) {\n    var index, iterable = collection, result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable]) return result;\n      for (index in iterable) {\n        if (hasOwnProperty.call(iterable, index)) {\n          if (callback(iterable[index], index, collection) === indicatorObject) return result;\n        }\n      }\n    return result\n  };\n\n  /**\n   * Creates a sorted array of property names of all enumerable properties,\n   * own and inherited, of `object` that have function values.\n   *\n   * @static\n   * @memberOf _\n   * @alias methods\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names that have function values.\n   * @example\n   *\n   * _.functions(_);\n   * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n   */\n  function functions(object) {\n    var result = [];\n    forIn(object, function(value, key) {\n      if (isFunction(value)) {\n        result.push(key);\n      }\n    });\n    return result.sort();\n  }\n\n  /**\n   * Checks if the specified property name exists as a direct property of `object`,\n   * instead of an inherited property.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to check.\n   * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n   * @example\n   *\n   * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n   * // => true\n   */\n  function has(object, key) {\n    return object ? hasOwnProperty.call(object, key) : false;\n  }\n\n  /**\n   * Creates an object composed of the inverted keys and values of the given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to invert.\n   * @returns {Object} Returns the created inverted object.\n   * @example\n   *\n   * _.invert({ 'first': 'fred', 'second': 'barney' });\n   * // => { 'fred': 'first', 'barney': 'second' }\n   */\n  function invert(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[object[key]] = key;\n    }\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a boolean value.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n   * @example\n   *\n   * _.isBoolean(null);\n   * // => false\n   */\n  function isBoolean(value) {\n    return value === true || value === false ||\n      value && typeof value == 'object' && toString.call(value) == boolClass || false;\n  }\n\n  /**\n   * Checks if `value` is a date.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n   * @example\n   *\n   * _.isDate(new Date);\n   * // => true\n   */\n  function isDate(value) {\n    return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n  }\n\n  /**\n   * Checks if `value` is a DOM element.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n   * @example\n   *\n   * _.isElement(document.body);\n   * // => true\n   */\n  function isElement(value) {\n    return value && value.nodeType === 1 || false;\n  }\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|string} value The value to inspect.\n   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) || isString(value)) {\n      return !value.length;\n    }\n    for (var key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent to each other. If a callback is provided it will be executed\n   * to compare values. If the callback returns `undefined` comparisons will\n   * be handled by the method instead. The callback is bound to `thisArg` and\n   * invoked with two arguments; (a, b).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * var copy = { 'name': 'fred' };\n   *\n   * object == copy;\n   * // => false\n   *\n   * _.isEqual(object, copy);\n   * // => true\n   *\n   * var words = ['hello', 'goodbye'];\n   * var otherWords = ['hi', 'goodbye'];\n   *\n   * _.isEqual(words, otherWords, function(a, b) {\n   *   var reGreet = /^(?:hello|hi)$/i,\n   *       aGreet = _.isString(a) && reGreet.test(a),\n   *       bGreet = _.isString(b) && reGreet.test(b);\n   *\n   *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n   * });\n   * // => true\n   */\n  function isEqual(a, b) {\n    return baseIsEqual(a, b);\n  }\n\n  /**\n   * Checks if `value` is, or can be coerced to, a finite number.\n   *\n   * Note: This is not the same as native `isFinite` which will return true for\n   * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n   * @example\n   *\n   * _.isFinite(-101);\n   * // => true\n   *\n   * _.isFinite('10');\n   * // => true\n   *\n   * _.isFinite(true);\n   * // => false\n   *\n   * _.isFinite('');\n   * // => false\n   *\n   * _.isFinite(Infinity);\n   * // => false\n   */\n  function isFinite(value) {\n    return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value]);\n  }\n\n  /**\n   * Checks if `value` is `NaN`.\n   *\n   * Note: This is not the same as native `isNaN` which will return `true` for\n   * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n   * @example\n   *\n   * _.isNaN(NaN);\n   * // => true\n   *\n   * _.isNaN(new Number(NaN));\n   * // => true\n   *\n   * isNaN(undefined);\n   * // => true\n   *\n   * _.isNaN(undefined);\n   * // => false\n   */\n  function isNaN(value) {\n    // `NaN` as a primitive is the only value that is not equal to itself\n    // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n    return isNumber(value) && value != +value;\n  }\n\n  /**\n   * Checks if `value` is `null`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n   * @example\n   *\n   * _.isNull(null);\n   * // => true\n   *\n   * _.isNull(undefined);\n   * // => false\n   */\n  function isNull(value) {\n    return value === null;\n  }\n\n  /**\n   * Checks if `value` is a number.\n   *\n   * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n   * @example\n   *\n   * _.isNumber(8.4 * 5);\n   * // => true\n   */\n  function isNumber(value) {\n    return typeof value == 'number' ||\n      value && typeof value == 'object' && toString.call(value) == numberClass || false;\n  }\n\n  /**\n   * Checks if `value` is a regular expression.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n   * @example\n   *\n   * _.isRegExp(/fred/);\n   * // => true\n   */\n  function isRegExp(value) {\n    return value && objectTypes[typeof value] && toString.call(value) == regexpClass || false;\n  }\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      value && typeof value == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Checks if `value` is `undefined`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n   * @example\n   *\n   * _.isUndefined(void 0);\n   * // => true\n   */\n  function isUndefined(value) {\n    return typeof value == 'undefined';\n  }\n\n  /**\n   * Creates a shallow clone of `object` excluding the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` omitting the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The properties to omit or the\n   *  function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object without the omitted properties.\n   * @example\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n   * // => { 'name': 'fred' }\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n   *   return typeof value == 'number';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function omit(object) {\n    var props = [];\n    forIn(object, function(value, key) {\n      props.push(key);\n    });\n    props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n    var index = -1,\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[key] = object[key];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a two dimensional array of an object's key-value pairs,\n   * i.e. `[[key1, value1], [key2, value2]]`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns new array of key-value pairs.\n   * @example\n   *\n   * _.pairs({ 'barney': 36, 'fred': 40 });\n   * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n   */\n  function pairs(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      var key = props[index];\n      result[index] = [key, object[key]];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a shallow clone of `object` composed of the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` picking the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The function called per\n   *  iteration or property names to pick, specified as individual property\n   *  names or arrays of property names.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object composed of the picked properties.\n   * @example\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n   * // => { 'name': 'fred' }\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n   *   return key.charAt(0) != '_';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function pick(object) {\n    var index = -1,\n        props = baseFlatten(arguments, true, false, 1),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      if (key in object) {\n        result[key] = object[key];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array composed of the own enumerable property values of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property values.\n   * @example\n   *\n   * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => [1, 2, 3] (property order is not guaranteed across environments)\n   */\n  function values(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = object[props[index]];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if a given value is present in a collection using strict equality\n   * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n   * offset from the end of the collection.\n   *\n   * @static\n   * @memberOf _\n   * @alias include\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {*} target The value to check for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n   * @example\n   *\n   * _.contains([1, 2, 3], 1);\n   * // => true\n   *\n   * _.contains([1, 2, 3], 1, 2);\n   * // => false\n   *\n   * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n   * // => true\n   *\n   * _.contains('pebbles', 'eb');\n   * // => true\n   */\n  function contains(collection, target) {\n    var indexOf = getIndexOf(),\n        length = collection ? collection.length : 0,\n        result = false;\n    if (length && typeof length == 'number') {\n      result = indexOf(collection, target) > -1;\n    } else {\n      forOwn(collection, function(value) {\n        return (result = value === target) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of `collection` through the callback. The corresponding value\n   * of each key is the number of times the key was returned by the callback.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy(['one', 'two', 'three'], 'length');\n   * // => { '3': 2, '5': 1 }\n   */\n  var countBy = createAggregator(function(result, value, key) {\n    (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n  });\n\n  /**\n   * Checks if the given callback returns truey value for **all** elements of\n   * a collection. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias all\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if all elements passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.every([true, 1, null, 'yes']);\n   * // => false\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.every(characters, 'age');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.every(characters, { 'age': 36 });\n   * // => false\n   */\n  function every(collection, callback, thisArg) {\n    var result = true;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (!(result = !!callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        return !(result = !!callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning an array of all elements\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias select\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that passed the callback check.\n   * @example\n   *\n   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [2, 4, 6]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.filter(characters, 'blocked');\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.filter(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   */\n  function filter(collection, callback, thisArg) {\n    var result = [];\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning the first element that\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias detect, findWhere\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36, 'blocked': false },\n   *   { 'name': 'fred',    'age': 40, 'blocked': true },\n   *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n   * ];\n   *\n   * _.find(characters, function(chr) {\n   *   return chr.age < 40;\n   * });\n   * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n   *\n   * // using \"_.where\" callback shorthand\n   * _.find(characters, { 'age': 1 });\n   * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.find(characters, 'blocked');\n   * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n   */\n  function find(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          return value;\n        }\n      }\n    } else {\n      var result;\n      forOwn(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return indicatorObject;\n        }\n      });\n      return result;\n    }\n  }\n\n  /**\n   * Examines each element in a `collection`, returning the first that\n   * has the given properties. When checking `properties`, this method\n   * performs a deep comparison between values to determine if they are\n   * equivalent to each other.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} properties The object of property values to filter by.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n   *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }\n   * ];\n   *\n   * _.findWhere(food, { 'type': 'vegetable' });\n   * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n   */\n  function findWhere(object, properties) {\n    return where(object, properties, true);\n  }\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === indicatorObject) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, callback);\n    }\n  }\n\n  /**\n   * This method is like `_.forEach` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias eachRight\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n   * // => logs each number from right to left and returns '3,2,1'\n   */\n  function forEachRight(collection, callback) {\n    var length = collection ? collection.length : 0;\n    if (typeof length == 'number') {\n      while (length--) {\n        if (callback(collection[length], length, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      var props = keys(collection);\n      length = props.length;\n      forOwn(collection, function(value, key, collection) {\n        key = props ? props[--length] : --length;\n        return callback(collection[key], key, collection) === false && indicatorObject;\n      });\n    }\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of a collection through the callback. The corresponding value\n   * of each key is an array of the elements responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.groupBy(['one', 'two', 'three'], 'length');\n   * // => { '3': ['one', 'two'], '5': ['three'] }\n   */\n  var groupBy = createAggregator(function(result, value, key) {\n    (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n  });\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of the collection through the given callback. The corresponding\n   * value of each key is the last element responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * var keys = [\n   *   { 'dir': 'left', 'code': 97 },\n   *   { 'dir': 'right', 'code': 100 }\n   * ];\n   *\n   * _.indexBy(keys, 'dir');\n   * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   */\n  var indexBy = createAggregator(function(result, value, key) {\n    result[key] = value;\n  });\n\n  /**\n   * Invokes the method named by `methodName` on each element in the `collection`\n   * returning an array of the results of each invoked method. Additional arguments\n   * will be provided to each invoked method. If `methodName` is a function it\n   * will be invoked for, and `this` bound to, each element in the `collection`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|string} methodName The name of the method to invoke or\n   *  the function invoked per iteration.\n   * @param {...*} [arg] Arguments to invoke the method with.\n   * @returns {Array} Returns a new array of the results of each invoked method.\n   * @example\n   *\n   * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n   * // => [[1, 5, 7], [1, 2, 3]]\n   *\n   * _.invoke([123, 456], String.prototype.split, '');\n   * // => [['1', '2', '3'], ['4', '5', '6']]\n   */\n  function invoke(collection, methodName) {\n    var args = slice(arguments, 2),\n        index = -1,\n        isFunc = typeof methodName == 'function',\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n    });\n    return result;\n  }\n\n  /**\n   * Creates an array of values by running each element in the collection\n   * through the callback. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias collect\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of the results of each `callback` execution.\n   * @example\n   *\n   * _.map([1, 2, 3], function(num) { return num * 3; });\n   * // => [3, 6, 9]\n   *\n   * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n   * // => [3, 6, 9] (property order is not guaranteed across environments)\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  function map(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = createCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = callback(collection[index], index, collection);\n      }\n    } else {\n      result = [];\n      forOwn(collection, function(value, key, collection) {\n        result[++index] = callback(value, key, collection);\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the maximum value of a collection. If the collection is empty or\n   * falsey `-Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the maximum value.\n   * @example\n   *\n   * _.max([4, 2, 8, 6]);\n   * // => 8\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.max(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'fred', 'age': 40 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.max(characters, 'age');\n   * // => { 'name': 'fred', 'age': 40 };\n   */\n  function max(collection, callback, thisArg) {\n    var computed = -Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current > computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the minimum value of a collection. If the collection is empty or\n   * falsey `Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the minimum value.\n   * @example\n   *\n   * _.min([4, 2, 8, 6]);\n   * // => 2\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.min(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'barney', 'age': 36 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.min(characters, 'age');\n   * // => { 'name': 'barney', 'age': 36 };\n   */\n  function min(collection, callback, thisArg) {\n    var computed = Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current < computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the value of a specified property from all elements in the collection.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {string} property The name of the property to pluck.\n   * @returns {Array} Returns a new array of property values.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.pluck(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  var pluck = map;\n\n  /**\n   * Reduces a collection to a value which is the accumulated result of running\n   * each element in the collection through the callback, where each successive\n   * callback execution consumes the return value of the previous execution. If\n   * `accumulator` is not provided the first element of the collection will be\n   * used as the initial `accumulator` value. The callback is bound to `thisArg`\n   * and invoked with four arguments; (accumulator, value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @alias foldl, inject\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var sum = _.reduce([1, 2, 3], function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n   *   result[key] = num * 3;\n   *   return result;\n   * }, {});\n   * // => { 'a': 3, 'b': 6, 'c': 9 }\n   */\n  function reduce(collection, callback, accumulator, thisArg) {\n    if (!collection) return accumulator;\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n\n    var index = -1,\n        length = collection.length;\n\n    if (typeof length == 'number') {\n      if (noaccum) {\n        accumulator = collection[++index];\n      }\n      while (++index < length) {\n        accumulator = callback(accumulator, collection[index], index, collection);\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection)\n      });\n    }\n    return accumulator;\n  }\n\n  /**\n   * This method is like `_.reduce` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias foldr\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var list = [[0, 1], [2, 3], [4, 5]];\n   * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n   * // => [4, 5, 2, 3, 0, 1]\n   */\n  function reduceRight(collection, callback, accumulator, thisArg) {\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n    forEachRight(collection, function(value, index, collection) {\n      accumulator = noaccum\n        ? (noaccum = false, value)\n        : callback(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The opposite of `_.filter` this method returns the elements of a\n   * collection that the callback does **not** return truey for.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that failed the callback check.\n   * @example\n   *\n   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [1, 3, 5]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.reject(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.reject(characters, { 'age': 36 });\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   */\n  function reject(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n    return filter(collection, function(value, index, collection) {\n      return !callback(value, index, collection);\n    });\n  }\n\n  /**\n   * Retrieves a random element or `n` random elements from a collection.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to sample.\n   * @param {number} [n] The number of elements to sample.\n   * @param- {Object} [guard] Allows working with functions like `_.map`\n   *  without using their `index` arguments as `n`.\n   * @returns {Array} Returns the random sample(s) of `collection`.\n   * @example\n   *\n   * _.sample([1, 2, 3, 4]);\n   * // => 2\n   *\n   * _.sample([1, 2, 3, 4], 2);\n   * // => [3, 1]\n   */\n  function sample(collection, n, guard) {\n    if (collection && typeof collection.length != 'number') {\n      collection = values(collection);\n    }\n    if (n == null || guard) {\n      return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n    }\n    var result = shuffle(collection);\n    result.length = nativeMin(nativeMax(0, n), result.length);\n    return result;\n  }\n\n  /**\n   * Creates an array of shuffled values, using a version of the Fisher-Yates\n   * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to shuffle.\n   * @returns {Array} Returns a new shuffled collection.\n   * @example\n   *\n   * _.shuffle([1, 2, 3, 4, 5, 6]);\n   * // => [4, 1, 6, 3, 5, 2]\n   */\n  function shuffle(collection) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      var rand = baseRandom(0, ++index);\n      result[index] = result[rand];\n      result[rand] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Gets the size of the `collection` by returning `collection.length` for arrays\n   * and array-like objects or the number of own enumerable properties for objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to inspect.\n   * @returns {number} Returns `collection.length` or number of own enumerable properties.\n   * @example\n   *\n   * _.size([1, 2]);\n   * // => 2\n   *\n   * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => 3\n   *\n   * _.size('pebbles');\n   * // => 7\n   */\n  function size(collection) {\n    var length = collection ? collection.length : 0;\n    return typeof length == 'number' ? length : keys(collection).length;\n  }\n\n  /**\n   * Checks if the callback returns a truey value for **any** element of a\n   * collection. The function returns as soon as it finds a passing value and\n   * does not iterate over the entire collection. The callback is bound to\n   * `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias any\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if any element passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.some([null, 0, 'yes', false], Boolean);\n   * // => true\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.some(characters, 'blocked');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.some(characters, { 'age': 1 });\n   * // => false\n   */\n  function some(collection, callback, thisArg) {\n    var result;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if ((result = callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        return (result = callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return !!result;\n  }\n\n  /**\n   * Creates an array of elements, sorted in ascending order by the results of\n   * running each element in a collection through the callback. This method\n   * performs a stable sort, that is, it will preserve the original sort order\n   * of equal elements. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an array of property names is provided for `callback` the collection\n   * will be sorted by each property value.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Array|Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of sorted elements.\n   * @example\n   *\n   * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n   * // => [3, 1, 2]\n   *\n   * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n   * // => [3, 1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'barney',  'age': 26 },\n   *   { 'name': 'fred',    'age': 30 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(_.sortBy(characters, 'age'), _.values);\n   * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n   *\n   * // sorting by multiple properties\n   * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n   * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n   */\n  function sortBy(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    callback = createCallback(callback, thisArg, 3);\n    forEach(collection, function(value, key, collection) {\n      result[++index] = {\n        'criteria': [callback(value, key, collection)],\n        'index': index,\n        'value': value\n      };\n    });\n\n    length = result.length;\n    result.sort(compareAscending);\n    while (length--) {\n      result[length] = result[length].value;\n    }\n    return result;\n  }\n\n  /**\n   * Converts the `collection` to an array.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to convert.\n   * @returns {Array} Returns the new converted array.\n   * @example\n   *\n   * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n   * // => [2, 3, 4]\n   */\n  function toArray(collection) {\n    if (isArray(collection)) {\n      return slice(collection);\n    }\n    if (collection && typeof collection.length == 'number') {\n      return map(collection);\n    }\n    return values(collection);\n  }\n\n  /**\n   * Performs a deep comparison of each element in a `collection` to the given\n   * `properties` object, returning an array of all elements that have equivalent\n   * property values.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} props The object of property values to filter by.\n   * @returns {Array} Returns a new array of elements that have the given properties.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * _.where(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n   *\n   * _.where(characters, { 'pets': ['dino'] });\n   * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n   */\n  function where(collection, properties, first) {\n    return (first && isEmpty(properties))\n      ? undefined\n      : (first ? find : filter)(collection, properties);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values removed. The values `false`, `null`,\n   * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array excluding all values of the provided arrays using strict\n   * equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {...Array} [values] The arrays of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n   * // => [1, 3, 4]\n   */\n  function difference(array) {\n    return baseDifference(array, baseFlatten(arguments, true, true, 1));\n  }\n\n  /**\n   * Gets the first element or first `n` elements of an array. If a callback\n   * is provided elements at the beginning of the array are returned as long\n   * as the callback returns truey. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias head, take\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the first element(s) of `array`.\n   * @example\n   *\n   * _.first([1, 2, 3]);\n   * // => 1\n   *\n   * _.first([1, 2, 3], 2);\n   * // => [1, 2]\n   *\n   * _.first([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.first(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function first(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = -1;\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[0] : undefined;\n      }\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, n), length));\n  }\n\n  /**\n   * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n   * is truey, the array will only be flattened a single level. If a callback\n   * is provided each element of the array is passed through the callback before\n   * flattening. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new flattened array.\n   * @example\n   *\n   * _.flatten([1, [2], [3, [[4]]]]);\n   * // => [1, 2, 3, 4];\n   *\n   * _.flatten([1, [2], [3, [[4]]]], true);\n   * // => [1, 2, 3, [[4]]];\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.flatten(characters, 'pets');\n   * // => ['hoppy', 'baby puss', 'dino']\n   */\n  function flatten(array, isShallow) {\n    return baseFlatten(array, isShallow);\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `value` is found using\n   * strict equality for comparisons, i.e. `===`. If the array is already sorted\n   * providing `true` for `fromIndex` will run a faster binary search.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n   *  to perform a binary search on a sorted array.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 1\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 4\n   *\n   * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n   * // => 2\n   */\n  function indexOf(array, value, fromIndex) {\n    if (typeof fromIndex == 'number') {\n      var length = array ? array.length : 0;\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n    } else if (fromIndex) {\n      var index = sortedIndex(array, value);\n      return array[index] === value ? index : -1;\n    }\n    return baseIndexOf(array, value, fromIndex);\n  }\n\n  /**\n   * Gets all but the last element or last `n` elements of an array. If a\n   * callback is provided elements at the end of the array are excluded from\n   * the result as long as the callback returns truey. The callback is bound\n   * to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.initial([1, 2, 3]);\n   * // => [1, 2]\n   *\n   * _.initial([1, 2, 3], 2);\n   * // => [1]\n   *\n   * _.initial([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [1]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.initial(characters, 'blocked');\n   * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function initial(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : callback || n;\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n  }\n\n  /**\n   * Creates an array of unique values present in all provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of shared values.\n   * @example\n   *\n   * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2]\n   */\n  function intersection() {\n    var args = [],\n        argsIndex = -1,\n        argsLength = arguments.length;\n\n    while (++argsIndex < argsLength) {\n      var value = arguments[argsIndex];\n       if (isArray(value) || isArguments(value)) {\n         args.push(value);\n       }\n    }\n    var array = args[0],\n        index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    outer:\n    while (++index < length) {\n      value = array[index];\n      if (indexOf(result, value) < 0) {\n        var argsIndex = argsLength;\n        while (--argsIndex) {\n          if (indexOf(args[argsIndex], value) < 0) {\n            continue outer;\n          }\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the last element or last `n` elements of an array. If a callback is\n   * provided elements at the end of the array are returned as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the last element(s) of `array`.\n   * @example\n   *\n   * _.last([1, 2, 3]);\n   * // => 3\n   *\n   * _.last([1, 2, 3], 2);\n   * // => [2, 3]\n   *\n   * _.last([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [2, 3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.last(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.last(characters, { 'employer': 'na' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function last(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[length - 1] : undefined;\n      }\n    }\n    return slice(array, nativeMax(0, length - n));\n  }\n\n  /**\n   * Gets the index at which the last occurrence of `value` is found using strict\n   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n   * as the offset from the end of the collection.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=array.length-1] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 4\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 1\n   */\n  function lastIndexOf(array, value, fromIndex) {\n    var index = array ? array.length : 0;\n    if (typeof fromIndex == 'number') {\n      index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n    }\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Creates an array of numbers (positive and/or negative) progressing from\n   * `start` up to but not including `end`. If `start` is less than `stop` a\n   * zero-length range is created unless a negative `step` is specified.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {number} [start=0] The start of the range.\n   * @param {number} end The end of the range.\n   * @param {number} [step=1] The value to increment or decrement by.\n   * @returns {Array} Returns a new range array.\n   * @example\n   *\n   * _.range(4);\n   * // => [0, 1, 2, 3]\n   *\n   * _.range(1, 5);\n   * // => [1, 2, 3, 4]\n   *\n   * _.range(0, 20, 5);\n   * // => [0, 5, 10, 15]\n   *\n   * _.range(0, -4, -1);\n   * // => [0, -1, -2, -3]\n   *\n   * _.range(1, 4, 0);\n   * // => [1, 1, 1]\n   *\n   * _.range(0);\n   * // => []\n   */\n  function range(start, end, step) {\n    start = +start || 0;\n    step =  (+step || 1);\n\n    if (end == null) {\n      end = start;\n      start = 0;\n    }\n    // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n    // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n    var index = -1,\n        length = nativeMax(0, ceil((end - start) / step)),\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = start;\n      start += step;\n    }\n    return result;\n  }\n\n  /**\n   * The opposite of `_.initial` this method gets all but the first element or\n   * first `n` elements of an array. If a callback function is provided elements\n   * at the beginning of the array are excluded from the result as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias drop, tail\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.rest([1, 2, 3]);\n   * // => [2, 3]\n   *\n   * _.rest([1, 2, 3], 2);\n   * // => [3]\n   *\n   * _.rest([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.rest(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.rest(characters, { 'employer': 'slate' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function rest(array, callback, thisArg) {\n    if (typeof callback != 'number' && callback != null) {\n      var n = 0,\n          index = -1,\n          length = array ? array.length : 0;\n\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n    }\n    return slice(array, n);\n  }\n\n  /**\n   * Uses a binary search to determine the smallest index at which a value\n   * should be inserted into a given sorted array in order to maintain the sort\n   * order of the array. If a callback is provided it will be executed for\n   * `value` and each element of `array` to compute their sort ranking. The\n   * callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to evaluate.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {number} Returns the index at which `value` should be inserted\n   *  into `array`.\n   * @example\n   *\n   * _.sortedIndex([20, 30, 50], 40);\n   * // => 2\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n   * // => 2\n   *\n   * var dict = {\n   *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n   * };\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return dict.wordToNumber[word];\n   * });\n   * // => 2\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return this.wordToNumber[word];\n   * }, dict);\n   * // => 2\n   */\n  function sortedIndex(array, value, callback, thisArg) {\n    var low = 0,\n        high = array ? array.length : low;\n\n    // explicitly reference `identity` for better inlining in Firefox\n    callback = callback ? createCallback(callback, thisArg, 1) : identity;\n    value = callback(value);\n\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      (callback(array[mid]) < value)\n        ? low = mid + 1\n        : high = mid;\n    }\n    return low;\n  }\n\n  /**\n   * Creates an array of unique values, in order, of the provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of combined values.\n   * @example\n   *\n   * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2, 3, 5, 4]\n   */\n  function union() {\n    return baseUniq(baseFlatten(arguments, true, true));\n  }\n\n  /**\n   * Creates a duplicate-value-free version of an array using strict equality\n   * for comparisons, i.e. `===`. If the array is sorted, providing\n   * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n   * each element of `array` is passed through the callback before uniqueness\n   * is computed. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias unique\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a duplicate-value-free array.\n   * @example\n   *\n   * _.uniq([1, 2, 1, 3, 1]);\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 1, 2, 2, 3], true);\n   * // => [1, 2, 3]\n   *\n   * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n   * // => ['A', 'b', 'C']\n   *\n   * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n   * // => [1, 2.5, 3]\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n   * // => [{ 'x': 1 }, { 'x': 2 }]\n   */\n  function uniq(array, isSorted, callback, thisArg) {\n    // juggle arguments\n    if (typeof isSorted != 'boolean' && isSorted != null) {\n      thisArg = callback;\n      callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n      isSorted = false;\n    }\n    if (callback != null) {\n      callback = createCallback(callback, thisArg, 3);\n    }\n    return baseUniq(array, isSorted, callback);\n  }\n\n  /**\n   * Creates an array excluding all provided values using strict equality for\n   * comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to filter.\n   * @param {...*} [value] The values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n   * // => [2, 3, 4]\n   */\n  function without(array) {\n    return baseDifference(array, slice(arguments, 1));\n  }\n\n  /**\n   * Creates an array of grouped elements, the first of which contains the first\n   * elements of the given arrays, the second of which contains the second\n   * elements of the given arrays, and so on.\n   *\n   * @static\n   * @memberOf _\n   * @alias unzip\n   * @category Arrays\n   * @param {...Array} [array] Arrays to process.\n   * @returns {Array} Returns a new array of grouped elements.\n   * @example\n   *\n   * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n   * // => [['fred', 30, true], ['barney', 40, false]]\n   */\n  function zip() {\n    var index = -1,\n        length = max(pluck(arguments, 'length')),\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = pluck(arguments, index);\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed from arrays of `keys` and `values`. Provide\n   * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n   * or two arrays, one of `keys` and one of corresponding `values`.\n   *\n   * @static\n   * @memberOf _\n   * @alias object\n   * @category Arrays\n   * @param {Array} keys The array of keys.\n   * @param {Array} [values=[]] The array of values.\n   * @returns {Object} Returns an object composed of the given keys and\n   *  corresponding values.\n   * @example\n   *\n   * _.zipObject(['fred', 'barney'], [30, 40]);\n   * // => { 'fred': 30, 'barney': 40 }\n   */\n  function zipObject(keys, values) {\n    var index = -1,\n        length = keys ? keys.length : 0,\n        result = {};\n\n    if (!values && length && !isArray(keys[0])) {\n      values = [];\n    }\n    while (++index < length) {\n      var key = keys[index];\n      if (values) {\n        result[key] = values[index];\n      } else if (key) {\n        result[key[0]] = key[1];\n      }\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that executes `func`, with  the `this` binding and\n   * arguments of the created function, only after being called `n` times.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {number} n The number of times the function must be called before\n   *  `func` is executed.\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var saves = ['profile', 'settings'];\n   *\n   * var done = _.after(saves.length, function() {\n   *   console.log('Done saving!');\n   * });\n   *\n   * _.forEach(saves, function(type) {\n   *   asyncSave({ 'type': type, 'complete': done });\n   * });\n   * // => logs 'Done saving!', after all saves have completed\n   */\n  function after(n, func) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    return function() {\n      if (--n < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2\n      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n      : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /**\n   * Binds methods of an object to the object itself, overwriting the existing\n   * method. Method names may be specified as individual arguments or as arrays\n   * of method names. If no method names are provided all the function properties\n   * of `object` will be bound.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Object} object The object to bind and assign the bound methods to.\n   * @param {...string} [methodName] The object method names to\n   *  bind, specified as individual method names or arrays of method names.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var view = {\n   *   'label': 'docs',\n   *   'onClick': function() { console.log('clicked ' + this.label); }\n   * };\n   *\n   * _.bindAll(view);\n   * jQuery('#docs').on('click', view.onClick);\n   * // => logs 'clicked docs', when the button is clicked\n   */\n  function bindAll(object) {\n    var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n        index = -1,\n        length = funcs.length;\n\n    while (++index < length) {\n      var key = funcs[index];\n      object[key] = createWrapper(object[key], 1, null, null, object);\n    }\n    return object;\n  }\n\n  /**\n   * Creates a function that is the composition of the provided functions,\n   * where each function consumes the return value of the function that follows.\n   * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n   * Each function is executed with the `this` binding of the composed function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {...Function} [func] Functions to compose.\n   * @returns {Function} Returns the new composed function.\n   * @example\n   *\n   * var realNameMap = {\n   *   'pebbles': 'penelope'\n   * };\n   *\n   * var format = function(name) {\n   *   name = realNameMap[name.toLowerCase()] || name;\n   *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n   * };\n   *\n   * var greet = function(formatted) {\n   *   return 'Hiya ' + formatted + '!';\n   * };\n   *\n   * var welcome = _.compose(greet, format);\n   * welcome('pebbles');\n   * // => 'Hiya Penelope!'\n   */\n  function compose() {\n    var funcs = arguments,\n        length = funcs.length;\n\n    while (length--) {\n      if (!isFunction(funcs[length])) {\n        throw new TypeError;\n      }\n    }\n    return function() {\n      var args = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        args = [funcs[length].apply(this, args)];\n      }\n      return args[0];\n    };\n  }\n\n  /**\n   * Creates a function that will delay the execution of `func` until after\n   * `wait` milliseconds have elapsed since the last time it was invoked.\n   * Provide an options object to indicate that `func` should be invoked on\n   * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n   * to the debounced function will return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the debounced function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to debounce.\n   * @param {number} wait The number of milliseconds to delay.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n   * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // avoid costly calculations while the window size is in flux\n   * var lazyLayout = _.debounce(calculateLayout, 150);\n   * jQuery(window).on('resize', lazyLayout);\n   *\n   * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n   * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * });\n   *\n   * // ensure `batchLog` is executed once after 1 second of debounced calls\n   * var source = new EventSource('/stream');\n   * source.addEventListener('message', _.debounce(batchLog, 250, {\n   *   'maxWait': 1000\n   * }, false);\n   */\n  function debounce(func, wait, options) {\n    var args,\n        maxTimeoutId,\n        result,\n        stamp,\n        thisArg,\n        timeoutId,\n        trailingCall,\n        lastCalled = 0,\n        maxWait = false,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    wait = nativeMax(0, wait) || 0;\n    if (options === true) {\n      var leading = true;\n      trailing = false;\n    } else if (isObject(options)) {\n      leading = options.leading;\n      maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    var delayed = function() {\n      var remaining = wait - (now() - stamp);\n      if (remaining <= 0) {\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        var isCalled = trailingCall;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      } else {\n        timeoutId = setTimeout(delayed, remaining);\n      }\n    };\n\n    var maxDelayed = function() {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n      if (trailing || (maxWait !== wait)) {\n        lastCalled = now();\n        result = func.apply(thisArg, args);\n        if (!timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n      }\n    };\n\n    return function() {\n      args = arguments;\n      stamp = now();\n      thisArg = this;\n      trailingCall = trailing && (timeoutId || !leading);\n\n      if (maxWait === false) {\n        var leadingCall = leading && !timeoutId;\n      } else {\n        if (!maxTimeoutId && !leading) {\n          lastCalled = stamp;\n        }\n        var remaining = maxWait - (stamp - lastCalled),\n            isCalled = remaining <= 0;\n\n        if (isCalled) {\n          if (maxTimeoutId) {\n            maxTimeoutId = clearTimeout(maxTimeoutId);\n          }\n          lastCalled = stamp;\n          result = func.apply(thisArg, args);\n        }\n        else if (!maxTimeoutId) {\n          maxTimeoutId = setTimeout(maxDelayed, remaining);\n        }\n      }\n      if (isCalled && timeoutId) {\n        timeoutId = clearTimeout(timeoutId);\n      }\n      else if (!timeoutId && wait !== maxWait) {\n        timeoutId = setTimeout(delayed, wait);\n      }\n      if (leadingCall) {\n        isCalled = true;\n        result = func.apply(thisArg, args);\n      }\n      if (isCalled && !timeoutId && !maxTimeoutId) {\n        args = thisArg = null;\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Defers executing the `func` function until the current call stack has cleared.\n   * Additional arguments will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to defer.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.defer(function(text) { console.log(text); }, 'deferred');\n   * // logs 'deferred' after one or more milliseconds\n   */\n  function defer(func) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    var args = slice(arguments, 1);\n    return setTimeout(function() { func.apply(undefined, args); }, 1);\n  }\n\n  /**\n   * Executes the `func` function after `wait` milliseconds. Additional arguments\n   * will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to delay.\n   * @param {number} wait The number of milliseconds to delay execution.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.delay(function(text) { console.log(text); }, 1000, 'later');\n   * // => logs 'later' after one second\n   */\n  function delay(func, wait) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    var args = slice(arguments, 2);\n    return setTimeout(function() { func.apply(undefined, args); }, wait);\n  }\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided it will be used to determine the cache key for storing the result\n   * based on the arguments provided to the memoized function. By default, the\n   * first argument provided to the memoized function is used as the cache key.\n   * The `func` is executed with the `this` binding of the memoized function.\n   * The result cache is exposed as the `cache` property on the memoized function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] A function used to resolve the cache key.\n   * @returns {Function} Returns the new memoizing function.\n   * @example\n   *\n   * var fibonacci = _.memoize(function(n) {\n   *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n   * });\n   *\n   * fibonacci(9)\n   * // => 34\n   *\n   * var data = {\n   *   'fred': { 'name': 'fred', 'age': 40 },\n   *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n   * };\n   *\n   * // modifying the result cache\n   * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n   * get('pebbles');\n   * // => { 'name': 'pebbles', 'age': 1 }\n   *\n   * get.cache.pebbles.name = 'penelope';\n   * get('pebbles');\n   * // => { 'name': 'penelope', 'age': 1 }\n   */\n  function memoize(func, resolver) {\n    var cache = {};\n    return function() {\n      var key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n      return hasOwnProperty.call(cache, key)\n        ? cache[key]\n        : (cache[key] = func.apply(this, arguments));\n    };\n  }\n\n  /**\n   * Creates a function that is restricted to execute `func` once. Repeat calls to\n   * the function will return the value of the first call. The `func` is executed\n   * with the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var initialize = _.once(createApplication);\n   * initialize();\n   * initialize();\n   * // `initialize` executes `createApplication` once\n   */\n  function once(func) {\n    var ran,\n        result;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    return function() {\n      if (ran) {\n        return result;\n      }\n      ran = true;\n      result = func.apply(this, arguments);\n\n      // clear the `func` variable so the function may be garbage collected\n      func = null;\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with any additional\n   * `partial` arguments prepended to those provided to the new function. This\n   * method is similar to `_.bind` except it does **not** alter the `this` binding.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to partially apply arguments to.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new partially applied function.\n   * @example\n   *\n   * var greet = function(greeting, name) { return greeting + ' ' + name; };\n   * var hi = _.partial(greet, 'hi');\n   * hi('fred');\n   * // => 'hi fred'\n   */\n  function partial(func) {\n    return createWrapper(func, 16, slice(arguments, 1));\n  }\n\n  /**\n   * Creates a function that, when executed, will only call the `func` function\n   * at most once per every `wait` milliseconds. Provide an options object to\n   * indicate that `func` should be invoked on the leading and/or trailing edge\n   * of the `wait` timeout. Subsequent calls to the throttled function will\n   * return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the throttled function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to throttle.\n   * @param {number} wait The number of milliseconds to throttle executions to.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * // avoid excessively updating the position while scrolling\n   * var throttled = _.throttle(updatePosition, 100);\n   * jQuery(window).on('scroll', throttled);\n   *\n   * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n   * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n   *   'trailing': false\n   * }));\n   */\n  function throttle(func, wait, options) {\n    var leading = true,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    if (options === false) {\n      leading = false;\n    } else if (isObject(options)) {\n      leading = 'leading' in options ? options.leading : leading;\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    options = {};\n    options.leading = leading;\n    options.maxWait = wait;\n    options.trailing = trailing;\n\n    return debounce(func, wait, options);\n  }\n\n  /**\n   * Creates a function that provides `value` to the wrapper function as its\n   * first argument. Additional arguments provided to the function are appended\n   * to those provided to the wrapper function. The wrapper is executed with\n   * the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {*} value The value to wrap.\n   * @param {Function} wrapper The wrapper function.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var p = _.wrap(_.escape, function(func, text) {\n   *   return '<p>' + func(text) + '</p>';\n   * });\n   *\n   * p('Fred, Wilma, & Pebbles');\n   * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n   */\n  function wrap(value, wrapper) {\n    return createWrapper(wrapper, 16, [value]);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Produces a callback bound to an optional `thisArg`. If `func` is a property\n   * name the created callback will return the property value for a given element.\n   * If `func` is an object the created callback will return `true` for elements\n   * that contain the equivalent object properties, otherwise it will return `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // wrap to create custom callback shorthands\n   * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n   *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n   *   return !match ? func(callback, thisArg) : function(object) {\n   *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n   *   };\n   * });\n   *\n   * _.filter(characters, 'age__gt38');\n   * // => [{ 'name': 'fred', 'age': 40 }]\n   */\n  function createCallback(func, thisArg, argCount) {\n    var type = typeof func;\n    if (func == null || type == 'function') {\n      return baseCreateCallback(func, thisArg, argCount);\n    }\n    // handle \"_.pluck\" style callback shorthands\n    if (type != 'object') {\n      return property(func);\n    }\n    var props = keys(func);\n    return function(object) {\n      var length = props.length,\n          result = false;\n\n      while (length--) {\n        if (!(result = object[props[length]] === func[props[length]])) {\n          break;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n   * corresponding HTML entities.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to escape.\n   * @returns {string} Returns the escaped string.\n   * @example\n   *\n   * _.escape('Fred, Wilma, & Pebbles');\n   * // => 'Fred, Wilma, &amp; Pebbles'\n   */\n  function escape(string) {\n    return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n  }\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Adds function properties of a source object to the destination object.\n   * If `object` is a function methods will be added to its prototype as well.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Function|Object} [object=lodash] object The destination object.\n   * @param {Object} source The object of functions to add.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n   * @example\n   *\n   * function capitalize(string) {\n   *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n   * }\n   *\n   * _.mixin({ 'capitalize': capitalize });\n   * _.capitalize('fred');\n   * // => 'Fred'\n   *\n   * _('fred').capitalize().value();\n   * // => 'Fred'\n   *\n   * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n   * _('fred').capitalize();\n   * // => 'Fred'\n   */\n  function mixin(object) {\n    forEach(functions(object), function(methodName) {\n      var func = lodash[methodName] = object[methodName];\n\n      lodash.prototype[methodName] = function() {\n        var args = [this.__wrapped__];\n        push.apply(args, arguments);\n\n        var result = func.apply(lodash, args);\n        return this.__chain__\n          ? new lodashWrapper(result, true)\n          : result;\n      };\n    });\n  }\n\n  /**\n   * Reverts the '_' variable to its previous value and returns a reference to\n   * the `lodash` function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @returns {Function} Returns the `lodash` function.\n   * @example\n   *\n   * var lodash = _.noConflict();\n   */\n  function noConflict() {\n    root._ = oldDash;\n    return this;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /**\n   * Gets the number of milliseconds that have elapsed since the Unix epoch\n   * (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var stamp = _.now();\n   * _.defer(function() { console.log(_.now() - stamp); });\n   * // => logs the number of milliseconds it took for the deferred function to be called\n   */\n  var now = isNative(now = Date.now) && now || function() {\n    return new Date().getTime();\n  };\n\n  /**\n   * Creates a \"_.pluck\" style function, which returns the `key` value of a\n   * given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} key The name of the property to retrieve.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'fred',   'age': 40 },\n   *   { 'name': 'barney', 'age': 36 }\n   * ];\n   *\n   * var getName = _.property('name');\n   *\n   * _.map(characters, getName);\n   * // => ['barney', 'fred']\n   *\n   * _.sortBy(characters, getName);\n   * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n   */\n  function property(key) {\n    return function(object) {\n      return object[key];\n    };\n  }\n\n  /**\n   * Produces a random number between `min` and `max` (inclusive). If only one\n   * argument is provided a number between `0` and the given number will be\n   * returned. If `floating` is truey or either `min` or `max` are floats a\n   * floating-point number will be returned instead of an integer.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} [min=0] The minimum possible value.\n   * @param {number} [max=1] The maximum possible value.\n   * @param {boolean} [floating=false] Specify returning a floating-point number.\n   * @returns {number} Returns a random number.\n   * @example\n   *\n   * _.random(0, 5);\n   * // => an integer between 0 and 5\n   *\n   * _.random(5);\n   * // => also an integer between 0 and 5\n   *\n   * _.random(5, true);\n   * // => a floating-point number between 0 and 5\n   *\n   * _.random(1.2, 5.2);\n   * // => a floating-point number between 1.2 and 5.2\n   */\n  function random(min, max) {\n    if (min == null && max == null) {\n      max = 1;\n    }\n    min = +min || 0;\n    if (max == null) {\n      max = min;\n      min = 0;\n    } else {\n      max = +max || 0;\n    }\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * Resolves the value of property `key` on `object`. If `key` is a function\n   * it will be invoked with the `this` binding of `object` and its result returned,\n   * else the property value is returned. If `object` is falsey then `undefined`\n   * is returned.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to resolve.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = {\n   *   'cheese': 'crumpets',\n   *   'stuff': function() {\n   *     return 'nonsense';\n   *   }\n   * };\n   *\n   * _.result(object, 'cheese');\n   * // => 'crumpets'\n   *\n   * _.result(object, 'stuff');\n   * // => 'nonsense'\n   */\n  function result(object, key) {\n    if (object) {\n      var value = object[key];\n      return isFunction(value) ? object[key]() : value;\n    }\n  }\n\n  /**\n   * A micro-templating method that handles arbitrary delimiters, preserves\n   * whitespace, and correctly escapes quotes within interpolated code.\n   *\n   * Note: In the development build, `_.template` utilizes sourceURLs for easier\n   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n   *\n   * For more information on precompiling templates see:\n   * https://lodash.com/custom-builds\n   *\n   * For more information on Chrome extension sandboxes see:\n   * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} text The template text.\n   * @param {Object} data The data object used to populate the text.\n   * @param {Object} [options] The options object.\n   * @param {RegExp} [options.escape] The \"escape\" delimiter.\n   * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n   * @param {Object} [options.imports] An object to import into the template as local variables.\n   * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n   * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n   * @param {string} [variable] The data object variable name.\n   * @returns {Function|string} Returns a compiled function when no `data` object\n   *  is given, else it returns the interpolated text.\n   * @example\n   *\n   * // using the \"interpolate\" delimiter to create a compiled template\n   * var compiled = _.template('hello <%= name %>');\n   * compiled({ 'name': 'fred' });\n   * // => 'hello fred'\n   *\n   * // using the \"escape\" delimiter to escape HTML in data property values\n   * _.template('<b><%- value %></b>', { 'value': '<script>' });\n   * // => '<b>&lt;script&gt;</b>'\n   *\n   * // using the \"evaluate\" delimiter to generate HTML\n   * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n   * _.template('hello ${ name }', { 'name': 'pebbles' });\n   * // => 'hello pebbles'\n   *\n   * // using the internal `print` function in \"evaluate\" delimiters\n   * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n   * // => 'hello barney!'\n   *\n   * // using a custom template delimiters\n   * _.templateSettings = {\n   *   'interpolate': /{{([\\s\\S]+?)}}/g\n   * };\n   *\n   * _.template('hello {{ name }}!', { 'name': 'mustache' });\n   * // => 'hello mustache!'\n   *\n   * // using the `imports` option to import jQuery\n   * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the `sourceURL` option to specify a custom sourceURL for the template\n   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n   * compiled(data);\n   * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n   *\n   * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n   * compiled.source;\n   * // => function(data) {\n   *   var __t, __p = '', __e = _.escape;\n   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n   *   return __p;\n   * }\n   *\n   * // using the `source` property to inline compiled templates for meaningful\n   * // line numbers in error messages and a stack trace\n   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n   *   var JST = {\\\n   *     \"main\": ' + _.template(mainText).source + '\\\n   *   };\\\n   * ');\n   */\n  function template(text, data, options) {\n    var _ = lodash,\n        settings = _.templateSettings;\n\n    text = String(text || '');\n    options = defaults({}, options, settings);\n\n    var index = 0,\n        source = \"__p += '\",\n        variable = options.variable;\n\n    var reDelimiters = RegExp(\n      (options.escape || reNoMatch).source + '|' +\n      (options.interpolate || reNoMatch).source + '|' +\n      (options.evaluate || reNoMatch).source + '|$'\n    , 'g');\n\n    text.replace(reDelimiters, function(match, escapeValue, interpolateValue, evaluateValue, offset) {\n      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n      if (escapeValue) {\n        source += \"' +\\n_.escape(\" + escapeValue + \") +\\n'\";\n      }\n      if (evaluateValue) {\n        source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n      }\n      if (interpolateValue) {\n        source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n\n    source += \"';\\n\";\n    if (!variable) {\n      variable = 'obj';\n      source = 'with (' + variable + ' || {}) {\\n' + source + '\\n}\\n';\n    }\n    source = 'function(' + variable + ') {\\n' +\n      \"var __t, __p = '', __j = Array.prototype.join;\\n\" +\n      \"function print() { __p += __j.call(arguments, '') }\\n\" +\n      source +\n      'return __p\\n}';\n\n    try {\n      var result = Function('_', 'return ' + source)(_);\n    } catch(e) {\n      e.source = source;\n      throw e;\n    }\n    if (data) {\n      return result(data);\n    }\n    result.source = source;\n    return result;\n  }\n\n  /**\n   * Executes the callback `n` times, returning an array of the results\n   * of each callback execution. The callback is bound to `thisArg` and invoked\n   * with one argument; (index).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} n The number of times to execute the callback.\n   * @param {Function} callback The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns an array of the results of each `callback` execution.\n   * @example\n   *\n   * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n   * // => [3, 6, 4]\n   *\n   * _.times(3, function(n) { mage.castSpell(n); });\n   * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n   *\n   * _.times(3, function(n) { this.cast(n); }, mage);\n   * // => also calls `mage.castSpell(n)` three times\n   */\n  function times(n, callback, thisArg) {\n    n = (n = +n) > -1 ? n : 0;\n    var index = -1,\n        result = Array(n);\n\n    callback = baseCreateCallback(callback, thisArg, 1);\n    while (++index < n) {\n      result[index] = callback(index);\n    }\n    return result;\n  }\n\n  /**\n   * The inverse of `_.escape` this method converts the HTML entities\n   * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n   * corresponding characters.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to unescape.\n   * @returns {string} Returns the unescaped string.\n   * @example\n   *\n   * _.unescape('Fred, Barney &amp; Pebbles');\n   * // => 'Fred, Barney & Pebbles'\n   */\n  function unescape(string) {\n    return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n  }\n\n  /**\n   * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} [prefix] The value to prefix the ID with.\n   * @returns {string} Returns the unique ID.\n   * @example\n   *\n   * _.uniqueId('contact_');\n   * // => 'contact_104'\n   *\n   * _.uniqueId();\n   * // => '105'\n   */\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object that wraps the given value with explicit\n   * method chaining enabled.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to wrap.\n   * @returns {Object} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'pebbles', 'age': 1 }\n   * ];\n   *\n   * var youngest = _.chain(characters)\n   *     .sortBy('age')\n   *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n   *     .first()\n   *     .value();\n   * // => 'pebbles is 1'\n   */\n  function chain(value) {\n    value = new lodashWrapper(value);\n    value.__chain__ = true;\n    return value;\n  }\n\n  /**\n   * Invokes `interceptor` with the `value` as the first argument and then\n   * returns `value`. The purpose of this method is to \"tap into\" a method\n   * chain in order to perform operations on intermediate results within\n   * the chain.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to provide to `interceptor`.\n   * @param {Function} interceptor The function to invoke.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * _([1, 2, 3, 4])\n   *  .tap(function(array) { array.pop(); })\n   *  .reverse()\n   *  .value();\n   * // => [3, 2, 1]\n   */\n  function tap(value, interceptor) {\n    interceptor(value);\n    return value;\n  }\n\n  /**\n   * Enables explicit method chaining on the wrapper object.\n   *\n   * @name chain\n   * @memberOf _\n   * @category Chaining\n   * @returns {*} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // without explicit chaining\n   * _(characters).first();\n   * // => { 'name': 'barney', 'age': 36 }\n   *\n   * // with explicit chaining\n   * _(characters).chain()\n   *   .first()\n   *   .pick('age')\n   *   .value();\n   * // => { 'age': 36 }\n   */\n  function wrapperChain() {\n    this.__chain__ = true;\n    return this;\n  }\n\n  /**\n   * Extracts the wrapped value.\n   *\n   * @name valueOf\n   * @memberOf _\n   * @alias value\n   * @category Chaining\n   * @returns {*} Returns the wrapped value.\n   * @example\n   *\n   * _([1, 2, 3]).valueOf();\n   * // => [1, 2, 3]\n   */\n  function wrapperValueOf() {\n    return this.__wrapped__;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return wrapped values when chaining\n  lodash.after = after;\n  lodash.bind = bind;\n  lodash.bindAll = bindAll;\n  lodash.chain = chain;\n  lodash.compact = compact;\n  lodash.compose = compose;\n  lodash.countBy = countBy;\n  lodash.debounce = debounce;\n  lodash.defaults = defaults;\n  lodash.defer = defer;\n  lodash.delay = delay;\n  lodash.difference = difference;\n  lodash.filter = filter;\n  lodash.flatten = flatten;\n  lodash.forEach = forEach;\n  lodash.functions = functions;\n  lodash.groupBy = groupBy;\n  lodash.indexBy = indexBy;\n  lodash.initial = initial;\n  lodash.intersection = intersection;\n  lodash.invert = invert;\n  lodash.invoke = invoke;\n  lodash.keys = keys;\n  lodash.map = map;\n  lodash.max = max;\n  lodash.memoize = memoize;\n  lodash.min = min;\n  lodash.omit = omit;\n  lodash.once = once;\n  lodash.pairs = pairs;\n  lodash.partial = partial;\n  lodash.pick = pick;\n  lodash.pluck = pluck;\n  lodash.range = range;\n  lodash.reject = reject;\n  lodash.rest = rest;\n  lodash.shuffle = shuffle;\n  lodash.sortBy = sortBy;\n  lodash.tap = tap;\n  lodash.throttle = throttle;\n  lodash.times = times;\n  lodash.toArray = toArray;\n  lodash.union = union;\n  lodash.uniq = uniq;\n  lodash.values = values;\n  lodash.where = where;\n  lodash.without = without;\n  lodash.wrap = wrap;\n  lodash.zip = zip;\n\n  // add aliases\n  lodash.collect = map;\n  lodash.drop = rest;\n  lodash.each = forEach;\n  lodash.extend = assign;\n  lodash.methods = functions;\n  lodash.object = zipObject;\n  lodash.select = filter;\n  lodash.tail = rest;\n  lodash.unique = uniq;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.contains = contains;\n  lodash.escape = escape;\n  lodash.every = every;\n  lodash.find = find;\n  lodash.has = has;\n  lodash.identity = identity;\n  lodash.indexOf = indexOf;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isBoolean = isBoolean;\n  lodash.isDate = isDate;\n  lodash.isElement = isElement;\n  lodash.isEmpty = isEmpty;\n  lodash.isEqual = isEqual;\n  lodash.isFinite = isFinite;\n  lodash.isFunction = isFunction;\n  lodash.isNaN = isNaN;\n  lodash.isNull = isNull;\n  lodash.isNumber = isNumber;\n  lodash.isObject = isObject;\n  lodash.isRegExp = isRegExp;\n  lodash.isString = isString;\n  lodash.isUndefined = isUndefined;\n  lodash.lastIndexOf = lastIndexOf;\n  lodash.mixin = mixin;\n  lodash.noConflict = noConflict;\n  lodash.random = random;\n  lodash.reduce = reduce;\n  lodash.reduceRight = reduceRight;\n  lodash.result = result;\n  lodash.size = size;\n  lodash.some = some;\n  lodash.sortedIndex = sortedIndex;\n  lodash.template = template;\n  lodash.unescape = unescape;\n  lodash.uniqueId = uniqueId;\n\n  // add aliases\n  lodash.all = every;\n  lodash.any = some;\n  lodash.detect = find;\n  lodash.findWhere = findWhere;\n  lodash.foldl = reduce;\n  lodash.foldr = reduceRight;\n  lodash.include = contains;\n  lodash.inject = reduce;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions capable of returning wrapped and unwrapped values when chaining\n  lodash.first = first;\n  lodash.last = last;\n  lodash.sample = sample;\n\n  // add aliases\n  lodash.take = first;\n  lodash.head = first;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions to `lodash.prototype`\n  mixin(lodash);\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.2';\n\n  // add \"Chaining\" functions to the wrapper\n  lodash.prototype.chain = wrapperChain;\n  lodash.prototype.value = wrapperValueOf;\n\n    // add `Array` mutator functions to the wrapper\n    forEach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__;\n        func.apply(value, arguments);\n\n        // avoid array-like object bugs with `Array#shift` and `Array#splice`\n        // in Firefox < 10 and IE < 9\n        if (!support.spliceObjects && value.length === 0) {\n          delete value[0];\n        }\n        return this;\n      };\n    });\n\n    // add `Array` accessor functions to the wrapper\n    forEach(['concat', 'join', 'slice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            result = func.apply(value, arguments);\n\n        if (this.__chain__) {\n          result = new lodashWrapper(result);\n          result.__chain__ = true;\n        }\n        return result;\n      };\n    });\n\n  /*--------------------------------------------------------------------------*/\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = lodash;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return lodash;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = lodash;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = lodash;\n  }\n}.call(this));\n"]}