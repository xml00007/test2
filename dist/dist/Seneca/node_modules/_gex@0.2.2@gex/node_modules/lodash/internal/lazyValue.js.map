{"version":3,"sources":["../../../../../../../Seneca/node_modules/_gex@0.2.2@gex/node_modules/lodash/internal/lazyValue.js"],"names":["baseWrapperValue","require","getView","isArray","LARGE_ARRAY_SIZE","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","nativeMin","Math","min","lazyValue","array","__wrapped__","value","dir","__dir__","isArr","isRight","arrLength","length","view","__views__","start","end","index","iteratees","__iteratees__","iterLength","resIndex","takeCount","__takeCount__","reverse","__actions__","result","outer","iterIndex","data","iteratee","type","computed","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,mBAAmBC,QAAQ,oBAAR,CAAvB;AAAA,IACIC,UAAUD,QAAQ,WAAR,CADd;AAAA,IAEIE,UAAUF,QAAQ,iBAAR,CAFd;;AAIA;AACA,IAAIG,mBAAmB,GAAvB;;AAEA;AACA,IAAIC,mBAAmB,CAAvB;AAAA,IACIC,gBAAgB,CADpB;;AAGA;AACA,IAAIC,YAAYC,KAAKC,GAArB;;AAEA;;;;;;;;AAQA,SAASC,SAAT,GAAqB;AACnB,MAAIC,QAAQ,KAAKC,WAAL,CAAiBC,KAAjB,EAAZ;AAAA,MACIC,MAAM,KAAKC,OADf;AAAA,MAEIC,QAAQb,QAAQQ,KAAR,CAFZ;AAAA,MAGIM,UAAUH,MAAM,CAHpB;AAAA,MAIII,YAAYF,QAAQL,MAAMQ,MAAd,GAAuB,CAJvC;AAAA,MAKIC,OAAOlB,QAAQ,CAAR,EAAWgB,SAAX,EAAsB,KAAKG,SAA3B,CALX;AAAA,MAMIC,QAAQF,KAAKE,KANjB;AAAA,MAOIC,MAAMH,KAAKG,GAPf;AAAA,MAQIJ,SAASI,MAAMD,KARnB;AAAA,MASIE,QAAQP,UAAUM,GAAV,GAAgBD,QAAQ,CATpC;AAAA,MAUIG,YAAY,KAAKC,aAVrB;AAAA,MAWIC,aAAaF,UAAUN,MAX3B;AAAA,MAYIS,WAAW,CAZf;AAAA,MAaIC,YAAYtB,UAAUY,MAAV,EAAkB,KAAKW,aAAvB,CAbhB;;AAeA,MAAI,CAACd,KAAD,IAAUE,YAAYd,gBAAtB,IAA0Cc,aAAaC,MAAb,IAAuBU,aAAaV,MAAlF,EAA0F;AACxF,WAAOnB,iBAAiBiB,WAAWD,KAAX,GAAmBL,MAAMoB,OAAN,EAAnB,GAAqCpB,KAAtD,EAA6D,KAAKqB,WAAlE,CAAP;AACD;AACD,MAAIC,SAAS,EAAb;;AAEAC,SAAO,OAAOf,YAAYS,WAAWC,SAA9B,EAAyC;AAC9CL,aAASV,GAAT;;AAEA,QAAIqB,YAAY,CAAC,CAAjB;AAAA,QACItB,QAAQF,MAAMa,KAAN,CADZ;;AAGA,WAAO,EAAEW,SAAF,GAAcR,UAArB,EAAiC;AAC/B,UAAIS,OAAOX,UAAUU,SAAV,CAAX;AAAA,UACIE,WAAWD,KAAKC,QADpB;AAAA,UAEIC,OAAOF,KAAKE,IAFhB;AAAA,UAGIC,WAAWF,SAASxB,KAAT,CAHf;;AAKA,UAAIyB,QAAQhC,aAAZ,EAA2B;AACzBO,gBAAQ0B,QAAR;AACD,OAFD,MAEO,IAAI,CAACA,QAAL,EAAe;AACpB,YAAID,QAAQjC,gBAAZ,EAA8B;AAC5B,mBAAS6B,KAAT;AACD,SAFD,MAEO;AACL,gBAAMA,KAAN;AACD;AACF;AACF;AACDD,WAAOL,UAAP,IAAqBf,KAArB;AACD;AACD,SAAOoB,MAAP;AACD;;AAEDO,OAAOC,OAAP,GAAiB/B,SAAjB;AACA","file":"lazyValue.js","sourcesContent":["'use strict';\n\nlet baseWrapperValue = require('./baseWrapperValue'),\n    getView = require('./getView'),\n    isArray = require('../lang/isArray');\n\n/** Used as the size to enable large array optimizations. */\nlet LARGE_ARRAY_SIZE = 200;\n\n/** Used to indicate the type of lazy iteratees. */\nlet LAZY_FILTER_FLAG = 1,\n    LAZY_MAP_FLAG = 2;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nlet nativeMin = Math.min;\n\n/**\n * Extracts the unwrapped value from its lazy wrapper.\n *\n * @private\n * @name value\n * @memberOf LazyWrapper\n * @returns {*} Returns the unwrapped value.\n */\nfunction lazyValue() {\n  let array = this.__wrapped__.value(),\n      dir = this.__dir__,\n      isArr = isArray(array),\n      isRight = dir < 0,\n      arrLength = isArr ? array.length : 0,\n      view = getView(0, arrLength, this.__views__),\n      start = view.start,\n      end = view.end,\n      length = end - start,\n      index = isRight ? end : start - 1,\n      iteratees = this.__iteratees__,\n      iterLength = iteratees.length,\n      resIndex = 0,\n      takeCount = nativeMin(length, this.__takeCount__);\n\n  if (!isArr || arrLength < LARGE_ARRAY_SIZE || arrLength == length && takeCount == length) {\n    return baseWrapperValue(isRight && isArr ? array.reverse() : array, this.__actions__);\n  }\n  let result = [];\n\n  outer: while (length-- && resIndex < takeCount) {\n    index += dir;\n\n    let iterIndex = -1,\n        value = array[index];\n\n    while (++iterIndex < iterLength) {\n      let data = iteratees[iterIndex],\n          iteratee = data.iteratee,\n          type = data.type,\n          computed = iteratee(value);\n\n      if (type == LAZY_MAP_FLAG) {\n        value = computed;\n      } else if (!computed) {\n        if (type == LAZY_FILTER_FLAG) {\n          continue outer;\n        } else {\n          break outer;\n        }\n      }\n    }\n    result[resIndex++] = value;\n  }\n  return result;\n}\n\nmodule.exports = lazyValue;\n//# sourceMappingURL=lazyValue.js.map"]}